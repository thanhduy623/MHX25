<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <title>MÃ™A HÃˆ XANH 2025 - CNTT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/muster.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>

<body>
    <div id="header">
        <img class="logo" src="../image/logo_TDTU.png" alt="Logo TDTU" />
        <img class="logo" src="../image/logo_Doan.png" alt="Logo ÄoÃ n" />
        <div class="title">MÃ™A HÃˆ XANH 2025</div>
    </div>

    <div id="container" style="display: flex; flex-wrap: wrap; gap: 24px;">
        <div class="form-section">
            <h2>ğŸ“‹ ÄÄƒng kÃ½ sá»± kiá»‡n</h2>

            <label for="event-select">Danh sÃ¡ch sá»± kiá»‡n:</label>
            <select id="event-select">
                <option value="" hidden>-- Chá»n sá»± kiá»‡n --</option>
            </select>

            <label for="pass-code">MÃ£ quáº£n trá»‹ báº£o máº­t:</label>
            <input type="password" id="pass-code" placeholder="Nháº­p passcode cá»§a admin" />

            <label for="student-id">MÃ£ sá»‘ sinh viÃªn:</label>
            <input type="text" id="student-id" placeholder="Nháº­p MSSV" />

            <div class="button-group">
                <button id="add-btn">â• ThÃªm sinh viÃªn</button>
                <button id="add-barcode-btn">â• QuÃ©t mÃ£ váº¡ch</button>
                <button id="submit-btn">ğŸ“¤ Gá»­i dá»¯ liá»‡u</button>
                <button id="clear-btn">ğŸ—‘ï¸ XÃ³a dá»¯ liá»‡u</button>
            </div>
        </div>

        <div class="list-section">
            <h3>ğŸ“š Danh sÃ¡ch mÃ£ sá»‘ sinh viÃªn Ä‘Ã£ thÃªm</h3>
            <table class="student-table">
                <thead>
                    <tr>
                        <th>MÃ£ sá»‘ sinh viÃªn</th>
                        <th>Há» tÃªn</th>
                    </tr>
                </thead>
                <tbody id="student-list">
                </tbody>
            </table>
        </div>
    </div>

    <div id="barcode-scanner-container" style="
    display: none; /* áº¨n theo máº·c Ä‘á»‹nh */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Ná»n tá»‘i má» */
    z-index: 999;
    display: flex; /* DÃ¹ng flexbox Ä‘á»ƒ cÄƒn giá»¯a ná»™i dung */
    justify-content: center;
    align-items: center;
    padding: 20px; /* ThÃªm padding tá»•ng thá»ƒ cho khÃ´ng gian */
">
    <div style="
        background-color: white;
        padding: 30px; /* TÄƒng padding */
        border-radius: 12px; /* Bo trÃ²n gÃ³c hÆ¡n */
        text-align: center;
        min-width: 300px;
        max-width: 500px; /* Giá»›i háº¡n chiá»u rá»™ng tá»‘i Ä‘a */
        width: 100%; /* Äáº£m báº£o nÃ³ chiáº¿m Ä‘á»§ khÃ´ng gian trÃªn mÃ n hÃ¬nh nhá» */
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); /* ThÃªm Ä‘á»• bÃ³ng */
        position: relative;
        box-sizing: border-box; /* Äáº£m báº£o padding khÃ´ng lÃ m tÄƒng kÃ­ch thÆ°á»›c tá»•ng thá»ƒ */
    ">
        <h3 style="
            margin-top: 0;
            margin-bottom: 20px;
            color: #333;
            font-size: 1.8em;
        ">QuÃ©t MÃ£ Sinh ViÃªn</h3>
        <div id="barcode-scanner-viewport" style="
            width: 100%;
            max-width: 300px; /* Äiá»u chá»‰nh kÃ­ch thÆ°á»›c viewport */
            height: 250px; /* Äiá»u chá»‰nh chiá»u cao viewport */
            margin: 20px auto;
            border: 2px solid #007bff; /* Viá»n ná»•i báº­t hÆ¡n */
            border-radius: 8px; /* Bo trÃ²n viá»n */
            overflow: hidden;
            background-color: #f0f0f0; /* Ná»n nháº¹ khi chÆ°a táº£i cam */
        "></div>
        <p id="scanned-result-display" style="
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 25px;
            margin-bottom: 25px;
            min-height: 1.5em;
            color: #555;
        ">Äang chá» quÃ©t...</p>
        <div style="
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px; /* Khoáº£ng cÃ¡ch giá»¯a cÃ¡c nÃºt */
        ">
            <button id="confirm-scan-btn" style="
                display: none; /* áº¨n theo máº·c Ä‘á»‹nh */
                padding: 12px 25px;
                background-color: #28a745; /* MÃ u xanh lÃ¡ cÃ¢y */
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-size: 1em;
                transition: background-color 0.2s ease;
            ">XÃ¡c nháº­n</button>
            <button id="cancel-scan-btn" style="
                padding: 12px 25px;
                background-color: #dc3545; /* MÃ u Ä‘á» */
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
                font-size: 1em;
                transition: background-color 0.2s ease;
            ">Há»§y / Tiáº¿p tá»¥c quÃ©t</button>
        </div>
        <button id="close-scanner-btn" style="
            position: absolute;
            top: 5px; /* Äiá»u chá»‰nh láº¡i vá»‹ trÃ­ */
            right: 10px; /* Äiá»u chá»‰nh láº¡i vá»‹ trÃ­ */
            background: none;
            border: none;
            font-size: 2em; /* KÃ­ch thÆ°á»›c lá»›n hÆ¡n */
            cursor: pointer;
            color: #888;
            line-height: 1; /* CÄƒn chá»‰nh nÃºt X */
            padding: 5px; /* ThÃªm padding Ä‘á»ƒ dá»… click hÆ¡n vÃ  trÃ¡nh overlap */
            transition: color 0.2s ease;
        " onmouseover="this.style.color='#333'" onmouseout="this.style.color='#888'">&times;</button>
    </div>
</div>

<div id="custom-message-box" style="
    display: none; /* áº¨n theo máº·c Ä‘á»‹nh */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Ná»n tá»‘i má» */
    z-index: 1001;
    display: flex; /* DÃ¹ng flexbox Ä‘á»ƒ cÄƒn giá»¯a ná»™i dung */
    justify-content: center;
    align-items: center;
    padding: 20px; /* ThÃªm padding tá»•ng thá»ƒ */
">
    <div style="
        background-color: white;
        padding: 30px; /* TÄƒng padding */
        border-radius: 12px; /* Bo trÃ²n gÃ³c hÆ¡n */
        text-align: center;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); /* ThÃªm Ä‘á»• bÃ³ng */
        max-width: 400px; /* Giá»›i háº¡n chiá»u rá»™ng tá»‘i Ä‘a */
        width: 100%; /* Äáº£m báº£o nÃ³ chiáº¿m Ä‘á»§ khÃ´ng gian trÃªn mÃ n hÃ¬nh nhá» */
        box-sizing: border-box;
    ">
        <p id="custom-message-text" style="
            font-size: 1.2em;
            margin-bottom: 25px;
            color: #333;
            line-height: 1.5;
        "></p>
        <button id="custom-message-ok-btn" style="
            padding: 12px 30px;
            background-color: #007bff; /* MÃ u xanh dÆ°Æ¡ng */
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s ease;
        ">OK</button>
    </div>
</div>

    <script type="module" src="../js/connect.js"></script> <script type="module" src="../js/muster.js"></script>
    <script type="module" src="../js/barcode-cam.js"></script>

</body>

</html>
